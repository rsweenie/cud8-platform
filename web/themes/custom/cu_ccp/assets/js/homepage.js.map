{"version":3,"names":[],"mappings":"","sources":["homepage.js"],"sourcesContent":["'use strict';\n\n(function ($, Drupal) {\n  // We don't use Drupal behaviors here as we want it to run ASAP.\n  $('.paragraph--type--hp-hero').once('cuHpHero').each(function() {\n    var $hero = $(this);\n    var $backgrounds = $('.field--name-field-hp-hero-bg > .field__item', $hero);\n\n    if ($backgrounds.length > 1) {\n      var min = 0;\n      var max = $backgrounds.length-1;\n      var prevHero = sessionStorage.getItem('homepagePrevHero');\n      var random = 0;\n\n      // Find a random hero we didn't use the last time. Limit find attempts for speed.\n      for (var i=0; i < 10; i++) {\n        random = Math.floor(Math.random() * (max - min + 1)) + min;\n        if (random != prevHero) {\n          sessionStorage.setItem('homepagePrevHero', random);\n          break;\n        }\n      }\n\n      $backgrounds.addClass('hidden').eq(random).removeClass('hidden');\n    }\n  });\n})(jQuery, Drupal);\n"],"file":"homepage.js"}